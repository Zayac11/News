(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{105:function(e,t,n){e.exports={content:"Container_content__p4ZLg",sidebarContainer:"Container_sidebarContainer__35Nvi",main:"Container_main__2ifHv"}},107:function(e,t,n){e.exports={modal:"DeleteModal_modal__jepwh",title:"DeleteModal_title__iEFUm",deleteBtn:"DeleteModal_deleteBtn__2XU5T"}},19:function(e,t,n){e.exports={sidebar:"SectionSidebar_sidebar__2R4Y1",title:"SectionSidebar_title__qf-ao",list:"SectionSidebar_list__nGyu7",link:"SectionSidebar_link__2iZO8",active:"SectionSidebar_active__GQR7J"}},20:function(e,t,n){e.exports={create:"CreateNews_create__3FzWz",title:"CreateNews_title__3VUDK",top:"CreateNews_top__3oA0j",checkbox:"CreateNews_checkbox__1bP4O",section:"CreateNews_section__3KYPv",label:"CreateNews_label__37gJp",select:"CreateNews_select__52vg7",footer:"CreateNews_footer__1K-9l",inputFile:"CreateNews_inputFile__3i1s7",submitBtn:"CreateNews_submitBtn__2uarX"}},200:function(e,t,n){e.exports={panel:"SidePanel_panel__q3heJ"}},207:function(e,t,n){e.exports={error:"TextError_error__1Oe7K"}},208:function(e,t,n){e.exports={input:"NewsInput_input__2UaUK"}},209:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__2RzC4"}},211:function(e,t,n){e.exports={input:"LoginInput_input__33EdF"}},218:function(e,t,n){},219:function(e,t,n){},25:function(e,t,n){e.exports={navbarContainer:"Navbar_navbarContainer__31F22",navbar:"Navbar_navbar__2vBmS",nameContainer:"Navbar_nameContainer__TXkh2",name:"Navbar_name__3vAlT",admin:"Navbar_admin__1k0Pc",createBtn:"Navbar_createBtn__3nkge",logoutBtn:"Navbar_logoutBtn__30joC",info:"Navbar_info__39e0Z",searchContainer:"Navbar_searchContainer__3YP5H",searchIcon:"Navbar_searchIcon__2egJt",inputContainer:"Navbar_inputContainer__vtF2Z",input:"Navbar_input__1E7Lr",time:"Navbar_time__1PwvV",sidePanel:"Navbar_sidePanel__vd_Hj",menu:"Navbar_menu__1NKFk"}},28:function(e,t,n){e.exports={sidebar:"InfoSidebar_sidebar__3NFi9",title:"InfoSidebar_title__3xLc8",newsItem:"InfoSidebar_newsItem__2jcyB",newsTitle:"InfoSidebar_newsTitle__1Dl6G",newsTime:"InfoSidebar_newsTime__1ikN5"}},37:function(e,t,n){e.exports={news:"News_news__3WG96",top:"News_top__IG6zm",title:"News_title__1hqqA",time:"News_time__1eT5F",info:"News_info__dqSyr",vision:"News_vision__ryTkl",viewImg:"News_viewImg__2LDj3",viewCount:"News_viewCount__3gDLu",editor:"News_editor__9OfWe",footer:"News_footer__2EwR-",deleteBtn:"News_deleteBtn__2PcXU",updateBtn:"News_updateBtn__u4J_7"}},42:function(e,t,n){e.exports={news:"NewsItemLarge_news__1Fj1l",top:"NewsItemLarge_top__I4RkX",title:"NewsItemLarge_title__AqSGy",time:"NewsItemLarge_time__2sJql",timePhone:"NewsItemLarge_timePhone__pv_19",img:"NewsItemLarge_img__3N9k6",description:"NewsItemLarge_description__1gGYH",footer:"NewsItemLarge_footer__2JGu4",viewImg:"NewsItemLarge_viewImg__cDBK8",vision:"NewsItemLarge_vision__jrtB6",viewCount:"NewsItemLarge_viewCount__2Clkr"}},441:function(e,t,n){},443:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(26),r=n.n(s),i=(n(218),n(219),n(220),n(9)),o=n(4),l=n(17),u=n(105),d=n.n(u),j=n(28),b=n.n(j),m=n(5),h=n(1),p=Object(o.d)()((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:b.a.sidebar,children:Object(h.jsxs)("div",{className:b.a.news,children:[e.popular&&e.popular.length>0&&Object(h.jsxs)("div",{className:b.a.newsList,children:[Object(h.jsx)("h2",{className:b.a.title,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"}),Object(h.jsx)("div",{className:b.a.newsContainer,children:e.popular.map((function(e,t){return Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:b.a.newsItem,children:[Object(h.jsx)("div",{className:b.a.newsTitle,children:e.title}),Object(h.jsx)("div",{className:b.a.newsTime,children:e.created_at})]},t)}))})]}),e.pinned&&e.pinned.length>0&&Object(h.jsxs)("div",{className:b.a.newsList,children:[Object(h.jsx)("h2",{className:b.a.title,children:"\u0412\u0430\u0436\u043d\u044b\u0435"}),Object(h.jsx)("div",{className:b.a.newsContainer,children:e.pinned.map((function(e,t){return Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:b.a.newsItem,children:[Object(h.jsx)("div",{className:b.a.newsTitle,children:e.title}),Object(h.jsx)("div",{className:b.a.newsTime,children:e.created_at})]},t)}))})]})]})})})})),O=n(2),_=n(12),x=n.n(_),v=n(27),f=n(3),w=n(33),g="http://188.93.211.92/";var N=function(e,t){var n=new FormData;return e.map((function(e){return n.append(e.name,e.value)})),n},S=function(e,t){var n=N([{name:"find_by_letters",value:e}]);return w.post(g+"api/recent_messages?page=".concat(t),n)},C=function(e){var t=N([]);return w.post(g+"api/popular_news?page=".concat(e),t)},y=function(e,t){var n=N([{name:"category",value:e}]);return w.post(g+"api/news_of_current_category?page=".concat(t),n)},I=function(e){var t=N([{name:"message_pk",value:e}]);return w.post(g+"api/current_message",t)},k=function(e,t,n,a,c,s){var r=N([{name:"title",value:e},{name:"img",value:t},{name:"short_description",value:n},{name:"content",value:JSON.stringify(a)},{name:"category",value:c},{name:"is_pinned",value:s}]),i="Bearer "+localStorage.getItem("accessToken");return w.post(g+"api/add_or_change_message",r,{headers:{Authorization:"".concat(i)}})},E=function(e,t,n,a,c,s,r){var i=N([{name:"title",value:t},{name:"img",value:n},{name:"short_description",value:a},{name:"content",value:JSON.stringify(c)},{name:"category",value:s},{name:"message_pk",value:e},{name:"is_pinned",value:r}]),o="Bearer "+localStorage.getItem("accessToken");return w.put(g+"api/add_or_change_message",i,{headers:{Authorization:"".concat(o)}})},P=function(e){var t=N([{name:"message_pk",value:e}]),n="Bearer "+localStorage.getItem("accessToken");return w.delete(g+"api/add_or_change_message",{headers:{Authorization:"".concat(n)},data:t})},T=function(e){return w.post(g+"api/update_view_counter/".concat(e))},D=function(e,t){var n=N([{name:"username",value:e},{name:"password",value:t}]);return w.post(g+"auth/jwt/create",n)},F=function(){return w.post(g+"api/get_most_popular_and_pinned_messages")},L=function(){return w.get("http://api.openweathermap.org/data/2.5/weather?q=moscow&appid=178ae9a5a359aa5a542be240bd36bc59&units=metric").then((function(e){return e.data.main.temp}))},A=function(){return w.get("https://www.cbr-xml-daily.ru/latest.js").then((function(e){return e.data.rates}))},B="SET_IS_FETCH",R="SET_IS_AUTH",U="SET_INITIALIZE",z={isFetch:!1,isAuth:!1,isInitialize:!1},q=function(e){return{type:B,isFetch:e}},J=function(e){return{type:R,isAuth:e}},M=function(e){return{type:U,isInitialize:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(f.a)(Object(f.a)({},e),{},{isFetch:t.isFetch});case R:return Object(f.a)(Object(f.a)({},e),{},{isAuth:t.isAuth});case U:return Object(f.a)(Object(f.a)({},e),{},{isInitialize:t.isInitialize});default:return e}},V="SET_POPULAR_AND_PINNED_NEWS",H="SET_COVID_INFORMATION",K="SET_MOSCOW_WEATHER",G="SET_CURRENCY",Y={pinned:[],popular:[],newCases:"",total:null,moscowTemp:null,eur:null,usd:null},Z=function(){return function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,F();case 4:n=e.sent,console.log("getPopularAndPinnedNews",n),200===n.status&&t((a=n.data,{type:V,news:a})),t(q(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("getPopularAndPinnedNews Error",e.t0.toJSON()),window.alert("getPopularAndPinnedNews Error"),t(q(!1));case 15:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(f.a)(Object(f.a)({},e),{},{pinned:t.news.pinned_messages,popular:t.news.most_popular_messages});case H:return Object(f.a)(Object(f.a)({},e),{},{total:t.info.total,newCases:t.info.new});case K:return Object(f.a)(Object(f.a)({},e),{},{moscowTemp:t.moscowTemp});case G:return Object(f.a)(Object(f.a)({},e),{},{eur:(1/t.EUR).toFixed(2),usd:(1/t.USD).toFixed(2)});default:return e}},Q=Object(o.d)()((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.infoSidebar.popular})),c=Object(O.d)((function(e){return e.infoSidebar.pinned}));return Object(a.useEffect)((function(){t(Z())}),[]),Object(h.jsx)(p,{popular:n,pinned:c})})),$=n(19),ee=n.n($),te=Object(o.d)()((function(e){return Object(h.jsxs)("aside",{className:ee.a.sidebar,children:[Object(h.jsx)("h3",{className:ee.a.title,children:"\u0420\u0430\u0437\u0434\u0435\u043b\u044b \u0441\u0430\u0439\u0442\u0430"}),Object(h.jsxs)("ul",{className:ee.a.list,children:[Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,exact:!0,activeClassName:ee.a.active,to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/sport",children:"\u0421\u043f\u043e\u0440\u0442"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/politics",children:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/science",children:"\u041d\u0430\u0443\u043a\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/world",children:"\u041c\u0438\u0440"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/culture",children:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/economic",children:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:ee.a.link,activeClassName:ee.a.active,to:"/news/internet",children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442"})})]})]})})),ne=n(25),ae=n.n(ne),ce=n(199),se=n.n(ce),re=n(200),ie=n.n(re),oe=Object(o.d)()((function(e){return Object(h.jsx)("div",{className:ie.a.panel,children:Object(h.jsx)(te,{})})})),le=n.p+"static/media/search.1ae99571.svg",ue=Object(o.d)()((function(e){return Object(h.jsx)("div",{className:ae.a.navbarContainer,children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:ae.a.navbar,children:[Object(h.jsxs)("div",{className:ae.a.nameContainer,children:[Object(h.jsxs)("div",{className:ae.a.sidePanel,children:[Object(h.jsx)("img",{className:ae.a.menu,onClick:function(){return e.setOpenPanel(!0)},src:"https://img.icons8.com/android/25/ffffff/menu.png",alt:"menu"}),Object(h.jsx)(se.a,{type:"left",isOpen:e.openPanel,size:45,backdropClicked:function(){return e.setOpenPanel(!1)},children:Object(h.jsx)(oe,{openPanel:e.openPanel,setOpenPanel:e.setOpenPanel})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(m.b,{to:"/",className:ae.a.name,children:"News Agency"}),e.isAuth&&Object(h.jsx)("div",{className:ae.a.admin,children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]})]}),Object(h.jsxs)("div",{className:ae.a.info,children:[e.isAuth&&Object(h.jsx)(m.b,{to:"/create_news",className:ae.a.createBtn,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(h.jsxs)("div",{className:ae.a.searchContainer,children:[e.isAuth&&Object(h.jsx)("button",{onClick:function(){e.handleLogout()},className:ae.a.logoutBtn,children:"\u0412\u044b\u0439\u0442\u0438"}),Object(h.jsxs)("div",{className:ae.a.inputContainer,children:[Object(h.jsx)("input",{id:"search",type:"text",onKeyUp:e.handleKeyUp,value:e.letters,onChange:function(t){return e.handleChangeLetters(t.target.value)},placeholder:"\u041f\u043e\u0438\u0441\u043a",className:ae.a.input}),Object(h.jsx)("label",{className:ae.a.searchIcon,htmlFor:"search",children:Object(h.jsx)("img",{src:le,onClick:e.handleSubmit,alt:"search"})})]}),Object(h.jsx)("div",{className:ae.a.time,children:e.time})]})]})]})})})})),de=function(e){switch(e){case"sport":return"\u0421\u043f\u043e\u0440\u0442";case"world":return"\u041c\u0438\u0440";case"internet":return"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442";case"politics":return"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430";case"economic":return"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430";case"culture":return"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430";case"science":return"\u041d\u0430\u0443\u043a\u0430";default:return"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}},je=Object(o.d)(l.h)((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.auth.isAuth})),c=be().time,s=new URLSearchParams(e.location.search).get("letters"),r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(s||""),j=Object(i.a)(d,2),b=j[0],m=j[1],p=Object(a.useState)(""),_=Object(i.a)(p,2),x=_[0],v=_[1],f=function(){""===b?e.history.push("/search"):e.history.push("/search?letters=".concat(b))};return Object(a.useEffect)((function(){v(de(e.section))}),[e.section]),Object(h.jsx)(ue,{handleLogout:function(e){t((function(e){localStorage.removeItem("accessToken"),e(J(!1))}))},openPanel:l,setOpenPanel:u,isAuth:n,letters:b,section:x,handleKeyUp:function(e){13===e.keyCode&&f()},handleSubmit:f,handleChangeLetters:m,time:c,match:e.match})})),be=function(){var e=Object(a.useState)(new Date),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){c(new Date)}),6e4);return function(){clearInterval(e)}}),[]),{time:n.toLocaleTimeString("ru",{hour:"numeric",hour12:!1,minute:"numeric"})}},me=n(48),he=n.n(me),pe=n(42),Oe=n.n(pe),_e=n(446),xe=n.p+"static/media/view.935daeca.svg",ve=function(e){return Object(h.jsx)(_e.a.div,{variants:e.animationItem,children:Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:Oe.a.news,children:[Object(h.jsxs)("div",{className:Oe.a.top,children:[Object(h.jsx)("h5",{className:Oe.a.title,children:e.title}),Object(h.jsx)("div",{className:Oe.a.time,children:e.created_at})]}),Object(h.jsx)("div",{className:Oe.a.img,children:Object(h.jsx)("img",{src:e.img,alt:"news"})}),Object(h.jsx)("div",{className:Oe.a.description,children:e.short_description}),Object(h.jsxs)("div",{className:Oe.a.footer,children:[Object(h.jsx)("div",{className:Oe.a.timePhone,children:e.created_at}),Object(h.jsxs)("span",{className:Oe.a.vision,children:[Object(h.jsx)("img",{className:Oe.a.viewImg,src:xe,alt:"view_eye"})," ",Object(h.jsx)("span",{className:Oe.a.viewCount,children:e.view_counter})]})]})]})})},fe=n(53),we=n.n(fe),ge=function(e){return Object(h.jsx)(_e.a.div,{variants:e.animationItem,children:Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:we.a.news,children:[Object(h.jsx)("h5",{className:we.a.title,children:e.title}),Object(h.jsxs)("div",{className:we.a.content,children:[Object(h.jsx)("div",{className:we.a.img,children:Object(h.jsx)("img",{src:e.img,alt:"news"})}),Object(h.jsxs)("div",{className:we.a.time,children:[Object(h.jsx)("span",{children:e.created_at}),Object(h.jsxs)("span",{className:we.a.view,children:[Object(h.jsx)("img",{className:we.a.viewImg,src:xe,alt:"view_eye"})," ",Object(h.jsx)("span",{className:we.a.viewCount,children:e.view_counter})]})]})]})]})})},Ne=n(61),Se=n.n(Ne),Ce=function(e){for(var t=e.currentPage,n=e.onPageChanged,c=e.totalItemsCount,s=e.pageSize,r=void 0===s?3:s,o=e.portionSize,l=void 0===o?5:o,u=Math.ceil(c/r),d=[],j=1;j<=u;j++)d.push(j);var b=Math.ceil(u/l),m=Object(a.useState)(1),p=Object(i.a)(m,2),O=p[0],_=p[1],x=(O-1)*l+1,v=O*l;return Object(h.jsxs)("div",{className:Se.a.paginator,children:[O>1?Object(h.jsx)("button",{className:Se.a.btn,onClick:function(){_(O-1)},children:"\u041d\u0430\u0437\u0430\u0434"}):Object(h.jsx)("button",{className:Se.a.btn}),d.filter((function(e){return e>=x&&e<=v})).map((function(e){return Object(h.jsx)("span",{className:"".concat(Se.a.pageNumber," ").concat(t===e&&Se.a.selectedPage),onClick:function(t){n(e)},children:e},e)})),O<b?Object(h.jsx)("button",{className:Se.a.btn,onClick:function(){_(O+1)},children:"\u0412\u043f\u0435\u0440\u0435\u0434"}):Object(h.jsx)("button",{className:Se.a.btn})]})},ye=n(201),Ie=n.n(ye),ke=function(e){return Object(h.jsx)(Ie.a,{checked:e.checked,onChange:e.handleCheck,offColor:"#5B8CA9",onColor:"#294352",onHandleColor:"#294352",handleDiameter:20,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 5px rgba(0, 0, 0, 0.2)",height:10,width:30,className:"react-switch",id:"material-switch"})},Ee=n(106),Pe=function(){return Object(h.jsxs)(Ee.a,{width:"100%",height:"670",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"48%",height:"290"}),Object(h.jsx)("rect",{x:"52%",y:"0",rx:"4",ry:"4",width:"48%",height:"290"}),Object(h.jsx)("rect",{x:"0",y:"310",rx:"4",ry:"4",width:"48%",height:"290"}),Object(h.jsx)("rect",{x:"52%",y:"310",rx:"4",ry:"4",width:"48%",height:"290"})]})},Te=function(){return Object(h.jsxs)(Ee.a,{width:"100%",height:"670",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"100%",height:"200"}),Object(h.jsx)("rect",{x:"0",y:"220",rx:"4",ry:"4",width:"100%",height:"200"}),Object(h.jsx)("rect",{x:"0",y:"440",rx:"4",ry:"4",width:"100%",height:"200"})]})},De=function(){return Object(h.jsxs)(Ee.a,{width:"100%",height:"670",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"82%",height:"50"}),Object(h.jsx)("rect",{x:"85%",y:"0",rx:"4",ry:"4",width:"15%",height:"50"}),Object(h.jsx)("rect",{x:"0",y:"70",rx:"4",ry:"4",width:"100%",height:"290"}),Object(h.jsx)("rect",{x:"0",y:"380",rx:"4",ry:"4",width:"100%",height:"290"})]})},Fe=Object(o.d)()((function(e){return Object(h.jsxs)("div",{className:he.a.newsList,children:[Object(h.jsxs)("div",{className:he.a.top,children:[Object(h.jsx)("h2",{className:he.a.title,children:e.title}),Object(h.jsxs)("div",{className:he.a.toggle,children:["\u0413\u043b\u0430\u0432\u043d\u0430\u044f"===e.section&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:he.a.popular,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"}),Object(h.jsx)(ke,{handleCheck:e.handleCheckPopular,checked:e.isPopular})]}),Object(h.jsxs)("span",{className:he.a.displaying,children:["\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ",Object(h.jsx)(ke,{handleCheck:e.handleCheck,checked:e.checked})]})]})]}),e.isFetch?e.checked?Object(h.jsx)(Pe,{}):Object(h.jsx)(Te,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:he.a.content,children:e.newsCards&&e.newsCards.length>0?e.checked?Object(h.jsx)(_e.a.div,{className:he.a.smallContainer,variants:e.animationContainer,initial:"hidden",animate:"visible",children:e.newsCards.map((function(t){return Object(h.jsx)(ge,Object(f.a)({animationItem:e.animationItem},t),t.id)}))}):Object(h.jsx)(_e.a.div,{className:he.a.largeContainer,variants:e.animationContainer,initial:"hidden",animate:"visible",children:e.newsCards.map((function(t){return Object(h.jsx)(ve,Object(f.a)({animationItem:e.animationItem},t),t.id)}))}):Object(h.jsx)("div",{className:"newsEmpty",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})}),e.isFetch?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(Ce,{totalItemsCount:e.count,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged})]})]})})),Le="SET_NEWS",Ae="SET_IS_NEWS_CREATED",Be="SET_IS_NEWS_DELETED",Re="DETELE_NEWS_DATA",Ue="SET_CURRENT_PAGE",ze="SET_NEWS_DATA",qe={newsCards:[],count:0,pageSize:3,currentPage:1,newsData:{},isNewsCreated:!1,isNewsDeleted:!1},Je=function(e){return{type:Le,news:e}},Me=function(e){return{type:Ue,currentPage:e}},We=function(e){return{type:Ae,isNewsCreated:e}},Ve=function(){return{type:Re}},He=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(v.a)(x.a.mark((function a(c){var s;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c(q(!0)),a.prev=1,!n){a.next=8;break}return a.next=5,C(t);case 5:s=a.sent,a.next=11;break;case 8:return a.next=10,S(e,t);case 10:s=a.sent;case 11:console.log("getRecentNews",s),200===s.status&&(c(Je(s.data)),c(Me(t))),c(q(!1)),a.next=21;break;case 16:a.prev=16,a.t0=a.catch(1),console.log("getRecentNewsError",a.t0.toJSON()),window.alert("getRecentNews Error"),c(q(!1));case 21:case"end":return a.stop()}}),a,null,[[1,16]])})));return function(e){return a.apply(this,arguments)}}()},Ke=function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q(!0)),t.prev=1,t.next=4,I(e);case 4:a=t.sent,console.log("getCurrentNews",a),200===a.status&&200===a.data.status&&n((c=a.data.data,{type:ze,newsData:c})),n(q(!1)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("getCurrentNews Error",t.t0.toJSON()),window.alert("getCurrentNews Error"),n(q(!1));case 15:case"end":return t.stop()}var c}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Ge=function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(a){var c;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(q(!0)),n.prev=1,n.next=4,y(e,t);case 4:c=n.sent,console.log("getNewsCategory",c),200===c.status&&(a(Je(c.data)),a(Me(t))),a(q(!1)),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("getNewsCategoryError",n.t0.toJSON()),window.alert("getNewsCategory Error"),a(q(!1));case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(f.a)(Object(f.a)({},e),{},{newsCards:t.news.products,count:t.news.count});case Ue:return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case Ae:return Object(f.a)(Object(f.a)({},e),{},{isNewsCreated:t.isNewsCreated});case Be:return Object(f.a)(Object(f.a)({},e),{},{isNewsDeleted:t.isNewsDeleted});case ze:return Object(f.a)(Object(f.a)({},e),{},{newsData:Object(f.a)(Object(f.a)({},t.newsData),{},{content:JSON.parse(t.newsData.content),title:t.newsData.title,short_description:t.newsData.short_description,img:t.newsData.img,category:t.newsData.category})});case Re:return{newsData:{}};default:return e}},Ze=n(97),Xe=n.n(Ze),Qe=n(57),$e=Object(o.d)(l.h)((function(e){var t=Object(a.useState)(!!Qe.isDesktop&&"true"===localStorage.getItem("checked")),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)("true"===localStorage.getItem("is_popular")),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(O.c)(),b=Object(l.g)(),m=Object(O.d)((function(e){return e.news.newsCards})),p=Object(O.d)((function(e){return e.news.count})),_=Object(O.d)((function(e){return e.news.pageSize})),x=Object(O.d)((function(e){return e.news.currentPage})),v=Object(O.d)((function(e){return e.auth.isFetch}));Object(a.useEffect)((function(){e.setSection(e.match.params.section?e.match.params.section:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f");var t=new URLSearchParams(e.location.search).get("page");e.match.params.section?j(Ge(de(e.match.params.section),Number(t)||1)):j(He("",Number(t)||1,u))}),[e.match.params.section]);return Object(h.jsx)(Fe,{animationContainer:{hidden:{opacity:1,scale:1},visible:{opacity:1,scale:1,transition:{delayChildren:.1,staggerChildren:.1}}},isFetch:v,animationItem:{hidden:{x:-100,y:20,opacity:0},visible:{x:0,y:0,opacity:1}},title:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",count:p,pageSize:_,currentPage:x,checked:c,handleCheck:function(e){s(e),localStorage.setItem("checked",e)},handleCheckPopular:function(e){d(e),localStorage.setItem("is_popular",e),j(He("",1,e))},section:e.section,isPopular:u,onPageChanged:function(t){var n={};e.match.params.section?j(Ge(de(e.match.params.section),t)):j(He("",t,u)),1!==t&&(n.page=String(t)),b.push({pathname:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"===e.section?"/":"/news/".concat(e.section),search:Xe.a.stringify(n)})},newsCards:m})})),et=n(40),tt=n(24),nt=n(101),at=n(23),ct=n(207),st=n.n(ct),rt=function(e){return Object(h.jsx)("div",{className:st.a.error,children:e.children})},it=n(208),ot=n.n(it),lt=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(f.a)(Object(f.a)({className:ot.a.input,id:e.id},e.field),{},{type:e.type}))})},ut=n(20),dt=n.n(ut),jt=(n(440),function(e){return Object(h.jsxs)("div",{className:dt.a.create,children:[Object(h.jsx)("h2",{className:dt.a.title,children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(h.jsx)(at.d,{initialValues:e.initialValues,validationSchema:e.validationSchema,onSubmit:e.onSubmit,enableReinitialize:!0,children:function(t){var n=t.isSubmitting,a=t.setFieldValue,c=t.values;return Object(h.jsxs)(at.c,{children:[Object(h.jsxs)("div",{className:dt.a.section,children:[Object(h.jsx)("label",{className:dt.a.label,htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(h.jsx)(at.b,{id:"name",type:"text",name:"name",component:lt}),Object(h.jsx)(at.a,{name:"name",component:rt})]}),Object(h.jsxs)("div",{className:dt.a.section,children:[Object(h.jsx)("label",{className:dt.a.label,htmlFor:"description",children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(h.jsx)(at.b,{id:"description",type:"text",name:"description",component:lt}),Object(h.jsx)(at.a,{name:"description",component:rt})]}),Object(h.jsx)(nt.Editor,{wrapperClassName:dt.a.wrapper,editorState:e.editorState,readOnly:!1,toolbarHidden:!1,onContentStateChange:e.setContentState,onEditorStateChange:e.setEditorState,toolbar:{image:{defaultSize:{height:"auto",width:"100%"}}}}),Object(h.jsxs)("div",{className:"".concat(dt.a.section," ").concat(dt.a.top),children:[Object(h.jsx)("label",{className:dt.a.label,htmlFor:"section",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b"}),Object(h.jsxs)(at.b,{className:dt.a.select,component:"select",id:"section",name:"section",children:[Object(h.jsx)("option",{value:"\u0421\u043f\u043e\u0440\u0442",children:"\u0421\u043f\u043e\u0440\u0442"}),Object(h.jsx)("option",{value:"\u041c\u0438\u0440",children:"\u041c\u0438\u0440"}),Object(h.jsx)("option",{value:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442",children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442"}),Object(h.jsx)("option",{value:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430",children:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"}),Object(h.jsx)("option",{value:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430",children:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430"}),Object(h.jsx)("option",{value:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430",children:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"}),Object(h.jsx)("option",{value:"\u041d\u0430\u0443\u043a\u0430",children:"\u041d\u0430\u0443\u043a\u0430"})]})]}),Object(h.jsx)("div",{className:dt.a.section,children:Object(h.jsxs)("label",{className:"".concat(dt.a.label," ").concat(dt.a.checkbox),htmlFor:"isPinned",children:[Object(h.jsx)("span",{children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}),Object(h.jsx)(at.b,{id:"isPinned",type:"checkbox",name:"isPinned"})]})}),Object(h.jsxs)("div",{className:dt.a.footer,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(at.b,{id:"img",type:"file",name:"img",component:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{className:dt.a.inputFile,id:"img",accept:"image/*",name:"img",type:"file",onChange:function(e){a("img",e.currentTarget.files[0])}}),c.img.name?Object(h.jsx)("label",{htmlFor:"img",children:c.img.name}):""!==c.img?Object(h.jsx)("label",{htmlFor:"img",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e \u0441\u0442\u0430\u0442\u044c\u0438"}):Object(h.jsx)("label",{htmlFor:"img",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e \u0441\u0442\u0430\u0442\u044c\u0438"})]})}}),Object(h.jsx)(at.a,{name:"img",component:rt})]}),e.isUpdate?Object(h.jsx)("button",{className:dt.a.submitBtn,type:"submit",disabled:n,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}):Object(h.jsx)("button",{className:dt.a.submitBtn,type:"submit",disabled:n,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]})}})]})}),bt=n(10),mt=n(11),ht=n(21),pt=n(22),Ot=n.p+"static/media/loader.b7e7449a.svg",_t=n(209),xt=n.n(_t),vt=function(){return Object(h.jsx)("div",{className:xt.a.preloaderContainer,children:Object(h.jsx)("img",{src:Ot,alt:"preloader"})})},ft=function(e){return{isFetch:e.auth.isFetch}},wt=function(e){var t=function(t){Object(ht.a)(a,t);var n=Object(pt.a)(a);function a(){return Object(bt.a)(this,a),n.apply(this,arguments)}return Object(mt.a)(a,[{key:"render",value:function(){return this.props.isFetch?Object(h.jsx)(vt,{}):Object(h.jsx)(e,Object(f.a)({},this.props))}}]),a}(c.a.Component);return Object(O.b)(ft)(t)},gt=Object(o.d)(wt)((function(e){var t=tt.a({name:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),description:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),img:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),section:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b")});return Object(h.jsx)(jt,Object(f.a)(Object(f.a)({},e),{},{onSubmit:e.onSubmit,validationSchema:t,initialValues:{name:"",description:"",img:"",section:"\u0421\u043f\u043e\u0440\u0442",isPinned:!1}}))})),Nt=function(e){return{isAuth:e.auth.isAuth}},St=function(e){var t=function(t){Object(ht.a)(a,t);var n=Object(pt.a)(a);function a(){return Object(bt.a)(this,a),n.apply(this,arguments)}return Object(mt.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(h.jsx)(e,Object(f.a)({},this.props)):Object(h.jsx)(l.a,{to:"/"})}}]),a}(c.a.Component);return Object(O.b)(Nt)(t)},Ct=n(59),yt=Object(o.d)(St)((function(e){var t=Object(O.c)(),n={entityMap:{},blocks:[{key:"637gr",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}]},c=Object(O.d)((function(e){return e.news.isNewsCreated})),s=Object(a.useState)(n),r=Object(i.a)(s,2),o=r[0],u=r[1],d=Object(a.useState)(et.EditorState.createWithContent(Object(et.convertFromRaw)(n))),j=Object(i.a)(d,2),b=j[0],m=j[1];Object(a.useEffect)((function(){return function(){t(We(!1))}}),[t]),Object(a.useEffect)((function(){c&&Ct.b.success("\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430")}),[c]);return c?Object(h.jsx)(l.a,{to:"/"}):Qe.isDesktop?Object(h.jsx)(gt,{onSubmit:function(e,n){console.log(e),console.log(o),console.log(b),t(function(e,t,n,a,c,s,r){return function(){var i=Object(v.a)(x.a.mark((function i(o){var l;return x.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o(q(!0)),i.prev=1,i.next=4,k(e,t,n,a,c,s);case 4:l=i.sent,console.log("createNews",l),200===l.status&&(o(Z()),o(We(!0))),o(q(!1)),i.next=16;break;case 10:i.prev=10,i.t0=i.catch(1),console.log("createNews",i.t0.toJSON()),window.alert("createNews Error"),r(!1),o(q(!1));case 16:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(e.name,e.img,e.description,o,e.section,e.isPinned,n.setSubmitting))},setContentState:u,setEditorState:m,contentState:o,editorState:b}):Object(h.jsx)(l.a,{to:"/"})})),It=n(104),kt=Object(o.d)(wt)((function(e){var t=e.newsData,n=Object(It.a)(e,["newsData"]),c={name:t.title,description:t.short_description,img:t.img,section:t.category,isPinned:t.is_pinned};Object(a.useEffect)((function(){n.setContentState(t.content),n.setEditorState(et.EditorState.createWithContent(Object(et.convertFromRaw)(t.content)))}),[t.content]);var s=tt.a({name:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),description:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),img:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),section:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b")});return Object(h.jsx)(jt,Object(f.a)(Object(f.a)({},n),{},{onSubmit:n.onSubmit,isUpdate:!0,validationSchema:s,initialValues:c}))})),Et=Object(o.d)(l.h,St)((function(e){var t=Object(O.c)(),n=e.match.params.newsId,c=Object(O.d)((function(e){return e.news.newsData})),s=Object(O.d)((function(e){return e.news.isNewsCreated})),r=Object(a.useState)(""),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),m=b[0],p=b[1];if(Object(a.useEffect)((function(){t(Ke(e.match.params.newsId))}),[t,e.match.params.newsId]),Object(a.useEffect)((function(){return function(){t(We(!1)),t(Ve())}}),[t]),Object(a.useEffect)((function(){s&&Ct.b.success("\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430")}),[s]),!c.content)return Object(h.jsx)(vt,{});return s?Object(h.jsx)(l.a,{to:"/"}):Qe.isDesktop?Object(h.jsx)(kt,{newsData:c,onSubmit:function(e,a){console.log(e),console.log(u),t(function(e,t,n,a,c,s,r,i){return function(){var o=Object(v.a)(x.a.mark((function o(l){var u;return x.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l(q(!0)),o.prev=1,o.next=4,E(e,t,n,a,c,s,r);case 4:u=o.sent,console.log("updateNews",u),200===u.status&&(l(Z()),l(We(!0))),l(q(!1)),o.next=16;break;case 10:o.prev=10,o.t0=o.catch(1),console.log("updateNews",o.t0.toJSON()),window.alert("updateNews Error"),i(!1),l(q(!1));case 16:case"end":return o.stop()}}),o,null,[[1,10]])})));return function(e){return o.apply(this,arguments)}}()}(n,e.name,e.img,e.description,u,e.section,e.isPinned,a.setSubmitting))},setContentState:d,setEditorState:p,contentState:u,editorState:m}):Object(h.jsx)(l.a,{to:"/"})})),Pt=n(37),Tt=n.n(Pt),Dt=n(210),Ft=n(107),Lt=n.n(Ft),At=function(e){return Object(h.jsxs)("div",{className:Lt.a.modal,children:[Object(h.jsx)("h2",{className:Lt.a.title,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:Lt.a.deleteBtn,onClick:e.handleDelete,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})},Bt=n.p+"static/media/edit-5.cc72686c.svg",Rt=Object(o.d)()((function(e){var t=e.newsData,n=Object(It.a)(e,["newsData"]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:Tt.a.news,children:[Object(h.jsx)("div",{className:Tt.a.top,children:Object(h.jsx)("h2",{className:Tt.a.title,children:t.title})}),Object(h.jsxs)("div",{className:Tt.a.info,children:[Object(h.jsx)("div",{className:Tt.a.time,children:t.created_at}),Object(h.jsxs)("span",{className:Tt.a.vision,children:[Object(h.jsx)("img",{className:Tt.a.viewImg,src:xe,alt:"view_eye"})," ",Object(h.jsx)("span",{className:Tt.a.viewCount,children:t.view_counter})]})]}),Object(h.jsx)(nt.Editor,{editorClassName:Tt.a.editor,editorState:n.editorState,readOnly:!0,toolbarHidden:!0,onContentStateChange:n.setContentState,onEditorStateChange:n.setEditorState}),n.isAuth&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:Tt.a.footer,children:[Object(h.jsxs)(m.b,{className:Tt.a.updateBtn,to:"/create_news/".concat(t.id),children:[Object(h.jsx)("div",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(h.jsx)("img",{src:Bt,alt:"edit"})]}),Object(h.jsx)("button",{onClick:function(){return n.setIsModalOpen(!0)},className:Tt.a.deleteBtn,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]}),Object(h.jsx)(Dt.a,{closeModal:function(){return n.setIsModalOpen(!1)},open:n.isModalOpen,center:!0,children:Object(h.jsx)(At,{handleDelete:n.handleDelete})})]})})),Ut=Object(o.d)(l.h)((function(e){var t=e.newsData.content,n=Object(a.useState)(t),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(et.EditorState.createWithContent(Object(et.convertFromRaw)(t))),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){r(e.newsData.content),d(et.EditorState.createWithContent(Object(et.convertFromRaw)(e.newsData.content)))}),[e.newsData.content]),Object(h.jsx)(Rt,Object(f.a)(Object(f.a)({},e),{},{editorState:u,contentState:s,match:e.match}))})),zt=Object(o.d)(l.h)((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.auth.isAuth})),s=Object(O.d)((function(e){return e.auth.isFetch})),r=Object(O.d)((function(e){return e.news.newsData})),o=c.a.useState(!1),u=Object(i.a)(o,2),d=u[0],j=u[1],b=Object(O.d)((function(e){return e.news.isNewsDeleted}));if(Object(a.useEffect)((function(){var n;t((n=e.match.params.newsId,function(){var e=Object(v.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,T(n);case 4:a=e.sent,console.log("incrementViewCounter",a),200===a.status&&a.data,t(q(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("incrementViewCounter",e.t0.toJSON()),window.alert("incrementViewCounter Error"),t(q(!1));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(a.useEffect)((function(){t(Ke(e.match.params.newsId))}),[t,e.match.params.newsId]),Object(a.useEffect)((function(){return function(){t(Ve()),t(We(!1))}}),[t]),Object(a.useEffect)((function(){b&&Ct.b.error("\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430")}),[b]),!r.content)return Object(h.jsx)(De,{});var m={hidden:{opacity:0,x:-100,y:0},visible:{opacity:1,x:0,y:0}};return b?Object(h.jsx)(l.a,{to:"/"}):s?Object(h.jsx)(De,{}):Object(h.jsx)(_e.a.div,{variants:m,initial:"hidden",animate:"visible",children:Object(h.jsx)(Ut,{handleDelete:function(){var n;j(!1),t((n=e.match.params.newsId,function(){var e=Object(v.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,P(n);case 4:a=e.sent,console.log("deleteNews",a),200===a.status&&!0===a.data&&(t(Z()),t({type:Be,isNewsDeleted:!0})),t(q(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("deleteNews",e.t0.toJSON()),window.alert("deleteNews Error"),t(q(!1));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))},animations:m,isModalOpen:d,setIsModalOpen:j,isAuth:n,newsData:r})})})),qt=Object(o.d)(l.h)((function(e){var t=Object(a.useState)("true"===localStorage.getItem("checked")),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(O.c)(),o=Object(O.d)((function(e){return e.news.newsCards})),u=Object(O.d)((function(e){return e.news.count})),d=Object(O.d)((function(e){return e.news.pageSize})),j=Object(O.d)((function(e){return e.news.currentPage})),b=Object(O.d)((function(e){return e.auth.isFetch})),m=Object(l.g)();Object(a.useEffect)((function(){var t=new URLSearchParams(e.location.search),n=t.get("letters"),a=t.get("page");r(He(n||"",Number(a)||1))}),[e.location.search]);return Object(h.jsx)(Fe,{animationContainer:{hidden:{opacity:1,scale:1},visible:{opacity:1,scale:1,transition:{delayChildren:.1,staggerChildren:.1}}},isFetch:b,animationItem:{hidden:{x:-100,y:20,opacity:0},visible:{x:0,y:0,opacity:1}},title:"\u041f\u043e\u0438\u0441\u043a",count:u,pageSize:d,currentPage:j,checked:c,handleCheck:function(e){s(e),localStorage.setItem("checked",e)},onPageChanged:function(t){var n={},a=new URLSearchParams(e.location.search).get("letters");a&&(n.letters=a),1!==t&&(n.page=String(t)),m.push({pathname:"/search",search:Ze.stringify(n)}),e.match.params.section?r(Ge(de(e.match.params.section),t)):r(He(a,t))},newsCards:o})})),Jt=n(45),Mt=n.n(Jt),Wt=n.p+"static/media/coronavirus.8bb40686.svg",Vt=n.p+"static/media/cloudy.adbb7f88.svg",Ht=n.p+"static/media/dollar.1a93d95c.svg",Kt=n.p+"static/media/euro.11a79757.svg",Gt=Object(o.d)()((function(e){return Object(h.jsx)("div",{className:Mt.a.topContainer,children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:Mt.a.top,children:[Object(h.jsxs)("span",{className:Mt.a.weather,children:[Object(h.jsx)("img",{src:Vt,alt:"weather"})," \u041c\u043e\u0441\u043a\u0432\u0430, +",Math.trunc(e.moscowTemp),"\xb0C"]}),Object(h.jsxs)("span",{className:Mt.a.covid,children:[Object(h.jsx)("img",{src:Wt,alt:"covid"}),Object(h.jsx)("span",{className:Mt.a.covidTitle,children:"Covid-19"}),"\u0412\u0441\u0435\u0433\u043e \u0432 \u0420\u043e\u0441\u0441\u0438\u0438: ",Object(h.jsxs)("span",{className:Mt.a.value,children:[" \xa0",e.total]}),". \u041d\u043e\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432: ",Object(h.jsxs)("span",{className:Mt.a.value,children:[" \xa0",e.newCases]})]}),Object(h.jsxs)("span",{className:Mt.a.currency,children:[Object(h.jsxs)("span",{className:Mt.a.dollar,children:[Object(h.jsx)("img",{src:Ht,alt:"dollar"}),e.usd]}),Object(h.jsxs)("span",{className:Mt.a.euro,children:[Object(h.jsx)("img",{src:Kt,alt:"euro"}),e.eur]})]})]})})})})),Yt=Object(o.d)()((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.infoSidebar.newCases})),c=Object(O.d)((function(e){return e.infoSidebar.total})),s=Object(O.d)((function(e){return e.infoSidebar.moscowTemp})),r=Object(O.d)((function(e){return e.infoSidebar.usd})),i=Object(O.d)((function(e){return e.infoSidebar.eur}));return Object(a.useEffect)((function(){t(function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:n=e.sent,console.log("getMoscowWeather",n),t({type:K,moscowTemp:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.alert("getMoscowWeather Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:n=e.sent,console.log("getCurrency",n),t((a=n.EUR,c=n.USD,{type:G,EUR:a,USD:c})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.alert("getCurrency Error");case 11:case"end":return e.stop()}var a,c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(h.jsx)(Gt,{newCases:n,eur:i,usd:r,moscowTemp:s,total:c})})),Zt=Object(o.d)(l.h)((function(e){var t=Object(a.useState)(e.match.params.section),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(h.jsxs)("div",{className:"outer",children:[Object(h.jsx)(je,{section:c}),Object(h.jsx)(Yt,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:d.a.content,children:[Qe.isDesktop&&Object(h.jsx)("div",{className:d.a.sidebarContainer,children:Object(h.jsx)(te,{})}),Object(h.jsx)(Q,{}),Object(h.jsx)("div",{className:d.a.main,children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)($e,{section:c,setSection:s})}}),Object(h.jsx)(l.b,{exact:!0,path:"/create_news",render:function(){return Object(h.jsx)(yt,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/search",render:function(){return Object(h.jsx)(qt,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/create_news/:newsId",render:function(){return Object(h.jsx)(Et,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/current_news/:newsId",render:function(){return Object(h.jsx)(zt,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/news/:section",render:function(){return Object(h.jsx)($e,{section:c,setSection:s})}})]})})]})})]})})),Xt=n(68),Qt=n.n(Xt),$t=n(211),en=n.n($t),tn=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(f.a)(Object(f.a)({className:en.a.input,id:e.id},e.field),{},{type:e.type}))})},nn=Object(o.d)()((function(e){return Object(h.jsxs)("div",{className:"outer",children:[Object(h.jsx)(je,{}),Object(h.jsx)("div",{className:Qt.a.login,children:Object(h.jsx)(at.d,{initialValues:e.initialValues,validationSchema:e.validationSchema,onSubmit:e.onSubmit,children:function(e){var t=e.isSubmitting;e.values;return Object(h.jsxs)(at.c,{children:[Object(h.jsxs)("div",{className:Qt.a.section,children:[Object(h.jsx)("label",{className:Qt.a.label,htmlFor:"username",children:"E-mail"}),Object(h.jsx)(at.b,{id:"username",type:"text",name:"username",component:tn}),Object(h.jsx)(at.a,{name:"username",component:rt})]}),Object(h.jsxs)("div",{className:Qt.a.section,children:[Object(h.jsx)("label",{className:Qt.a.label,htmlFor:"password",children:"Password"}),Object(h.jsx)(at.b,{id:"password",type:"password",name:"password",component:tn}),Object(h.jsx)(at.a,{name:"password",component:rt})]}),Object(h.jsx)("button",{className:Qt.a.submitBtn,type:"submit",disabled:t,children:"\u0412\u043e\u0439\u0442\u0438"})]})}})})]})})),an=Object(o.d)()((function(e){var t=tt.a({username:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),password:tt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435")});return Object(h.jsx)(nn,{onSubmit:e.onSubmit,initialValues:{username:"",password:""},validationSchema:t})})),cn=Object(o.d)()((function(e){var t=Object(O.c)();return Object(O.d)((function(e){return e.auth.isAuth}))?Object(h.jsx)(l.a,{to:"/"}):Object(h.jsx)(an,{onSubmit:function(e,n){var a,c,s;t((a=e.username,c=e.password,s=n.setSubmitting,function(){var e=Object(v.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,D(a,c);case 4:n=e.sent,console.log("login",n),t(J(!0)),localStorage.setItem("accessToken",n.data.access),t(q(!1)),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Login error",e.t0.toJSON()),window.alert("Login error"),s(!1),t(q(!1));case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}})}));var sn=function(){var e=Object(O.c)();return Object(a.useEffect)((function(){e((function(e){null===localStorage.getItem("accessToken")||e(J(!0)),e(M(!0))}))}),[e]),Object(O.d)((function(e){return e.auth.isInitialize}))?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/login",render:function(){return Object(h.jsx)(cn,{})}}),Object(h.jsx)(Zt,{})]}),Object(h.jsx)(Ct.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):Object(h.jsx)(vt,{})},rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,447)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},on=n(212),ln=Object(o.c)({news:Ye,auth:W,infoSidebar:X}),un=Object(o.e)(ln,Object(o.a)(on.a));window.store=un;var dn=un;n(441),n(442);r.a.render(Object(h.jsx)(m.a,{basename:"",children:Object(h.jsx)(O.a,{store:dn,children:Object(h.jsx)(sn,{})})}),document.getElementById("root")),rn()},45:function(e,t,n){e.exports={top:"TopInfo_top__2AYoc",covid:"TopInfo_covid__2nuEr",covidTitle:"TopInfo_covidTitle__2ntEE",value:"TopInfo_value__2u-Iz",weather:"TopInfo_weather__2H6va",currency:"TopInfo_currency__rLBrE",dollar:"TopInfo_dollar__nA1k4",euro:"TopInfo_euro__1kXiL"}},48:function(e,t,n){e.exports={newsList:"NewsList_newsList__3e1Fr",top:"NewsList_top__1WGVH",title:"NewsList_title__1iL7T",toggle:"NewsList_toggle__3Y1v3",content:"NewsList_content__2fUqk",smallContainer:"NewsList_smallContainer__2KMcS",displaying:"NewsList_displaying__3eeig",popular:"NewsList_popular__2Cu0g"}},53:function(e,t,n){e.exports={news:"NewsItemSmall_news__3Zg9l",title:"NewsItemSmall_title__is_64",img:"NewsItemSmall_img__175Ky",time:"NewsItemSmall_time__2_rs1",view:"NewsItemSmall_view__1R_qr",viewImg:"NewsItemSmall_viewImg__gabEf",viewCount:"NewsItemSmall_viewCount__Q5LzB"}},61:function(e,t,n){e.exports={paginator:"Paginator_paginator__zqYUC",pageNumber:"Paginator_pageNumber__15_Aa",selectedPage:"Paginator_selectedPage__dGrDy",btn:"Paginator_btn__7wnRq"}},68:function(e,t,n){e.exports={login:"Login_login__3cwOj",section:"Login_section__1pUaZ",label:"Login_label__2hxJU",submitBtn:"Login_submitBtn__28Ctb"}}},[[443,1,2]]]);
//# sourceMappingURL=main.fff24347.chunk.js.map