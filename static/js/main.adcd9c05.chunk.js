(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{105:function(e,t,n){e.exports={content:"Container_content__p4ZLg",sidebarContainer:"Container_sidebarContainer__35Nvi",main:"Container_main__2ifHv"}},107:function(e,t,n){e.exports={modal:"DeleteModal_modal__jepwh",title:"DeleteModal_title__iEFUm",deleteBtn:"DeleteModal_deleteBtn__2XU5T"}},19:function(e,t,n){e.exports={sidebar:"SectionSidebar_sidebar__2R4Y1",title:"SectionSidebar_title__qf-ao",list:"SectionSidebar_list__nGyu7",link:"SectionSidebar_link__2iZO8",active:"SectionSidebar_active__GQR7J"}},20:function(e,t,n){e.exports={create:"CreateNews_create__3FzWz",title:"CreateNews_title__3VUDK",top:"CreateNews_top__3oA0j",checkbox:"CreateNews_checkbox__1bP4O",section:"CreateNews_section__3KYPv",label:"CreateNews_label__37gJp",select:"CreateNews_select__52vg7",footer:"CreateNews_footer__1K-9l",inputFile:"CreateNews_inputFile__3i1s7",submitBtn:"CreateNews_submitBtn__2uarX"}},200:function(e,t,n){e.exports={panel:"SidePanel_panel__q3heJ"}},207:function(e,t,n){e.exports={error:"TextError_error__1Oe7K"}},208:function(e,t,n){e.exports={input:"NewsInput_input__2UaUK"}},209:function(e,t,n){e.exports={preloaderContainer:"Preloader_preloaderContainer__2RzC4"}},211:function(e,t,n){e.exports={input:"LoginInput_input__33EdF"}},218:function(e,t,n){},219:function(e,t,n){},25:function(e,t,n){e.exports={navbarContainer:"Navbar_navbarContainer__31F22",navbar:"Navbar_navbar__2vBmS",nameContainer:"Navbar_nameContainer__TXkh2",name:"Navbar_name__3vAlT",admin:"Navbar_admin__1k0Pc",createBtn:"Navbar_createBtn__3nkge",logoutBtn:"Navbar_logoutBtn__30joC",info:"Navbar_info__39e0Z",searchContainer:"Navbar_searchContainer__3YP5H",searchIcon:"Navbar_searchIcon__2egJt",inputContainer:"Navbar_inputContainer__vtF2Z",input:"Navbar_input__1E7Lr",time:"Navbar_time__1PwvV",sidePanel:"Navbar_sidePanel__vd_Hj",menu:"Navbar_menu__1NKFk"}},28:function(e,t,n){e.exports={sidebar:"InfoSidebar_sidebar__3NFi9",title:"InfoSidebar_title__3xLc8",newsItem:"InfoSidebar_newsItem__2jcyB",newsTitle:"InfoSidebar_newsTitle__1Dl6G",newsTime:"InfoSidebar_newsTime__1ikN5"}},37:function(e,t,n){e.exports={news:"News_news__3WG96",top:"News_top__IG6zm",title:"News_title__1hqqA",time:"News_time__1eT5F",info:"News_info__dqSyr",vision:"News_vision__ryTkl",viewImg:"News_viewImg__2LDj3",viewCount:"News_viewCount__3gDLu",editor:"News_editor__9OfWe",footer:"News_footer__2EwR-",deleteBtn:"News_deleteBtn__2PcXU",updateBtn:"News_updateBtn__u4J_7"}},42:function(e,t,n){e.exports={news:"NewsItemLarge_news__1Fj1l",top:"NewsItemLarge_top__I4RkX",title:"NewsItemLarge_title__AqSGy",time:"NewsItemLarge_time__2sJql",timePhone:"NewsItemLarge_timePhone__pv_19",img:"NewsItemLarge_img__3N9k6",description:"NewsItemLarge_description__1gGYH",footer:"NewsItemLarge_footer__2JGu4",viewImg:"NewsItemLarge_viewImg__cDBK8",vision:"NewsItemLarge_vision__jrtB6",viewCount:"NewsItemLarge_viewCount__2Clkr"}},441:function(e,t,n){},443:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(26),r=n.n(s),i=(n(218),n(219),n(220),n(9)),o=n(4),l=n(17),u=n(105),d=n.n(u),j=n(28),b=n.n(j),m=n(5),h=n(1),p=Object(o.d)()((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:b.a.sidebar,children:Object(h.jsxs)("div",{className:b.a.news,children:[e.popular&&e.popular.length>0&&Object(h.jsxs)("div",{className:b.a.newsList,children:[Object(h.jsx)("h2",{className:b.a.title,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"}),Object(h.jsx)("div",{className:b.a.newsContainer,children:e.popular.map((function(e,t){return Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:b.a.newsItem,children:[Object(h.jsx)("div",{className:b.a.newsTitle,children:e.title}),Object(h.jsx)("div",{className:b.a.newsTime,children:e.created_at})]},t)}))})]}),e.pinned&&e.pinned.length>0&&Object(h.jsxs)("div",{className:b.a.newsList,children:[Object(h.jsx)("h2",{className:b.a.title,children:"\u0412\u0430\u0436\u043d\u044b\u0435"}),Object(h.jsx)("div",{className:b.a.newsContainer,children:e.pinned.map((function(e,t){return Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:b.a.newsItem,children:[Object(h.jsx)("div",{className:b.a.newsTitle,children:e.title}),Object(h.jsx)("div",{className:b.a.newsTime,children:e.created_at})]},t)}))})]})]})})})})),O=n(2),x=n(12),_=n.n(x),f=n(27),v=n(3),w=n(33),g="http://188.93.211.92/";var N=function(e,t){var n=new FormData;return e.map((function(e){return n.append(e.name,e.value)})),n},S=function(e,t){var n=N([{name:"find_by_letters",value:e}]);return w.post(g+"api/recent_messages?page=".concat(t),n)},C=function(e){var t=N([]);return w.post(g+"api/popular_news?page=".concat(e),t)},y=function(e,t){var n=N([{name:"category",value:e}]);return w.post(g+"api/news_of_current_category?page=".concat(t),n)},I=function(e){var t=N([{name:"message_pk",value:e}]);return w.post(g+"api/current_message",t)},k=function(e,t,n,a,c,s){var r=N([{name:"title",value:e},{name:"img",value:t},{name:"short_description",value:n},{name:"content",value:JSON.stringify(a)},{name:"category",value:c},{name:"is_pinned",value:s}]),i="Bearer "+localStorage.getItem("accessToken");return w.post(g+"api/add_or_change_message",r,{headers:{Authorization:"".concat(i)}})},E=function(e,t,n,a,c,s,r){var i=N([{name:"title",value:t},{name:"img",value:n},{name:"short_description",value:a},{name:"content",value:JSON.stringify(c)},{name:"category",value:s},{name:"message_pk",value:e},{name:"is_pinned",value:r}]),o="Bearer "+localStorage.getItem("accessToken");return w.put(g+"api/add_or_change_message",i,{headers:{Authorization:"".concat(o)}})},P=function(e){var t=N([{name:"message_pk",value:e}]),n="Bearer "+localStorage.getItem("accessToken");return w.delete(g+"api/add_or_change_message",{headers:{Authorization:"".concat(n)},data:t})},T=function(e){return w.post(g+"api/update_view_counter/".concat(e))},D=function(e,t){var n=N([{name:"username",value:e},{name:"password",value:t}]);return w.post(g+"auth/jwt/create",n)},F=function(){return w.post(g+"api/get_most_popular_and_pinned_messages")},L=function(){var e="acdf13f780msh3d1ae28246c6fdbp1d19a5jsn4bfb102b1e40",t=new Headers;return t.append("x-rapidapi-key",e),t.append("x-rapidapi-host","covid-193.p.rapidapi.com"),w.get("https://covid-193.p.rapidapi.com/statistics?country=Russia",{headers:{"x-rapidapi-key":e,"x-rapidapi-host":"covid-193.p.rapidapi.com"}}).then((function(e){return e.data.response[0].cases}))},A=function(){return w.get("http://api.openweathermap.org/data/2.5/weather?q=moscow&appid=178ae9a5a359aa5a542be240bd36bc59&units=metric").then((function(e){return e.data.main.temp}))},B=function(){return w.get("https://www.cbr-xml-daily.ru/latest.js").then((function(e){return e.data.rates}))},R="SET_IS_FETCH",U="SET_IS_AUTH",z="SET_INITIALIZE",J={isFetch:!1,isAuth:!1,isInitialize:!1},q=function(e){return{type:R,isFetch:e}},M=function(e){return{type:U,isAuth:e}},W=function(e){return{type:z,isInitialize:e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(v.a)(Object(v.a)({},e),{},{isFetch:t.isFetch});case U:return Object(v.a)(Object(v.a)({},e),{},{isAuth:t.isAuth});case z:return Object(v.a)(Object(v.a)({},e),{},{isInitialize:t.isInitialize});default:return e}},H="SET_POPULAR_AND_PINNED_NEWS",K="SET_COVID_INFORMATION",G="SET_MOSCOW_WEATHER",Y="SET_CURRENCY",Z={pinned:[],popular:[],newCases:"",total:null,moscowTemp:null,eur:null,usd:null},X=function(){return function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,F();case 4:n=e.sent,console.log("getPopularAndPinnedNews",n),200===n.status&&t((a=n.data,{type:H,news:a})),t(q(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("getPopularAndPinnedNews Error",e.t0.toJSON()),window.alert("getPopularAndPinnedNews Error"),t(q(!1));case 15:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(v.a)(Object(v.a)({},e),{},{pinned:t.news.pinned_messages,popular:t.news.most_popular_messages});case K:return Object(v.a)(Object(v.a)({},e),{},{total:t.info.total,newCases:t.info.new});case G:return Object(v.a)(Object(v.a)({},e),{},{moscowTemp:t.moscowTemp});case Y:return Object(v.a)(Object(v.a)({},e),{},{eur:(1/t.EUR).toFixed(2),usd:(1/t.USD).toFixed(2)});default:return e}},$=Object(o.d)()((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.infoSidebar.popular})),c=Object(O.d)((function(e){return e.infoSidebar.pinned}));return Object(a.useEffect)((function(){t(X())}),[]),Object(h.jsx)(p,{popular:n,pinned:c})})),ee=n(19),te=n.n(ee),ne=Object(o.d)()((function(e){return Object(h.jsxs)("aside",{className:te.a.sidebar,children:[Object(h.jsx)("h3",{className:te.a.title,children:"\u0420\u0430\u0437\u0434\u0435\u043b\u044b \u0441\u0430\u0439\u0442\u0430"}),Object(h.jsxs)("ul",{className:te.a.list,children:[Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,exact:!0,activeClassName:te.a.active,to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/sport",children:"\u0421\u043f\u043e\u0440\u0442"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/politics",children:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/science",children:"\u041d\u0430\u0443\u043a\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/world",children:"\u041c\u0438\u0440"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/culture",children:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/economic",children:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.b,{className:te.a.link,activeClassName:te.a.active,to:"/news/internet",children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442"})})]})]})})),ae=n(25),ce=n.n(ae),se=n(199),re=n.n(se),ie=n(200),oe=n.n(ie),le=Object(o.d)()((function(e){return Object(h.jsx)("div",{className:oe.a.panel,children:Object(h.jsx)(ne,{})})})),ue=n.p+"static/media/search.1ae99571.svg",de=Object(o.d)()((function(e){return Object(h.jsx)("div",{className:ce.a.navbarContainer,children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:ce.a.navbar,children:[Object(h.jsxs)("div",{className:ce.a.nameContainer,children:[Object(h.jsxs)("div",{className:ce.a.sidePanel,children:[Object(h.jsx)("img",{className:ce.a.menu,onClick:function(){return e.setOpenPanel(!0)},src:"https://img.icons8.com/android/25/ffffff/menu.png",alt:"menu"}),Object(h.jsx)(re.a,{type:"left",isOpen:e.openPanel,size:45,backdropClicked:function(){return e.setOpenPanel(!1)},children:Object(h.jsx)(le,{openPanel:e.openPanel,setOpenPanel:e.setOpenPanel})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(m.b,{to:"/",className:ce.a.name,children:"News Agency"}),e.isAuth&&Object(h.jsx)("div",{className:ce.a.admin,children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]})]}),Object(h.jsxs)("div",{className:ce.a.info,children:[e.isAuth&&Object(h.jsx)(m.b,{to:"/create_news",className:ce.a.createBtn,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(h.jsxs)("div",{className:ce.a.searchContainer,children:[e.isAuth&&Object(h.jsx)("button",{onClick:function(){e.handleLogout()},className:ce.a.logoutBtn,children:"\u0412\u044b\u0439\u0442\u0438"}),Object(h.jsxs)("div",{className:ce.a.inputContainer,children:[Object(h.jsx)("input",{id:"search",type:"text",onKeyUp:e.handleKeyUp,value:e.letters,onChange:function(t){return e.handleChangeLetters(t.target.value)},placeholder:"\u041f\u043e\u0438\u0441\u043a",className:ce.a.input}),Object(h.jsx)("label",{className:ce.a.searchIcon,htmlFor:"search",children:Object(h.jsx)("img",{src:ue,onClick:e.handleSubmit,alt:"search"})})]}),Object(h.jsx)("div",{className:ce.a.time,children:e.time})]})]})]})})})})),je=function(e){switch(e){case"sport":return"\u0421\u043f\u043e\u0440\u0442";case"world":return"\u041c\u0438\u0440";case"internet":return"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442";case"politics":return"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430";case"economic":return"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430";case"culture":return"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430";case"science":return"\u041d\u0430\u0443\u043a\u0430";default:return"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}},be=Object(o.d)(l.h)((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.auth.isAuth})),c=me().time,s=new URLSearchParams(e.location.search).get("letters"),r=Object(a.useState)(!1),o=Object(i.a)(r,2),l=o[0],u=o[1],d=Object(a.useState)(s||""),j=Object(i.a)(d,2),b=j[0],m=j[1],p=Object(a.useState)(""),x=Object(i.a)(p,2),_=x[0],f=x[1],v=function(){""===b?e.history.push("/search"):e.history.push("/search?letters=".concat(b))};return Object(a.useEffect)((function(){f(je(e.section))}),[e.section]),Object(h.jsx)(de,{handleLogout:function(e){t((function(e){localStorage.removeItem("accessToken"),e(M(!1))}))},openPanel:l,setOpenPanel:u,isAuth:n,letters:b,section:_,handleKeyUp:function(e){13===e.keyCode&&v()},handleSubmit:v,handleChangeLetters:m,time:c,match:e.match})})),me=function(){var e=Object(a.useState)(new Date),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){c(new Date)}),6e4);return function(){clearInterval(e)}}),[]),{time:n.toLocaleTimeString("ru",{hour:"numeric",hour12:!1,minute:"numeric"})}},he=n(48),pe=n.n(he),Oe=n(42),xe=n.n(Oe),_e=n(446),fe=n.p+"static/media/view.935daeca.svg",ve=function(e){return Object(h.jsx)(_e.a.div,{variants:e.animationItem,children:Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:xe.a.news,children:[Object(h.jsxs)("div",{className:xe.a.top,children:[Object(h.jsx)("h5",{className:xe.a.title,children:e.title}),Object(h.jsx)("div",{className:xe.a.time,children:e.created_at})]}),Object(h.jsx)("div",{className:xe.a.img,children:Object(h.jsx)("img",{src:e.img,alt:"news"})}),Object(h.jsx)("div",{className:xe.a.description,children:e.short_description}),Object(h.jsxs)("div",{className:xe.a.footer,children:[Object(h.jsx)("div",{className:xe.a.timePhone,children:e.created_at}),Object(h.jsxs)("span",{className:xe.a.vision,children:[Object(h.jsx)("img",{className:xe.a.viewImg,src:fe,alt:"view_eye"})," ",Object(h.jsx)("span",{className:xe.a.viewCount,children:e.view_counter})]})]})]})})},we=n(53),ge=n.n(we),Ne=function(e){return Object(h.jsx)(_e.a.div,{variants:e.animationItem,children:Object(h.jsxs)(m.b,{to:"/current_news/".concat(e.id),className:ge.a.news,children:[Object(h.jsx)("h5",{className:ge.a.title,children:e.title}),Object(h.jsxs)("div",{className:ge.a.content,children:[Object(h.jsx)("div",{className:ge.a.img,children:Object(h.jsx)("img",{src:e.img,alt:"news"})}),Object(h.jsxs)("div",{className:ge.a.time,children:[Object(h.jsx)("span",{children:e.created_at}),Object(h.jsxs)("span",{className:ge.a.view,children:[Object(h.jsx)("img",{className:ge.a.viewImg,src:fe,alt:"view_eye"})," ",Object(h.jsx)("span",{className:ge.a.viewCount,children:e.view_counter})]})]})]})]})})},Se=n(61),Ce=n.n(Se),ye=function(e){for(var t=e.currentPage,n=e.onPageChanged,c=e.totalItemsCount,s=e.pageSize,r=void 0===s?3:s,o=e.portionSize,l=void 0===o?5:o,u=Math.ceil(c/r),d=[],j=1;j<=u;j++)d.push(j);var b=Math.ceil(u/l),m=Object(a.useState)(1),p=Object(i.a)(m,2),O=p[0],x=p[1],_=(O-1)*l+1,f=O*l;return Object(h.jsxs)("div",{className:Ce.a.paginator,children:[O>1?Object(h.jsx)("button",{className:Ce.a.btn,onClick:function(){x(O-1)},children:"\u041d\u0430\u0437\u0430\u0434"}):Object(h.jsx)("button",{className:Ce.a.btn}),d.filter((function(e){return e>=_&&e<=f})).map((function(e){return Object(h.jsx)("span",{className:"".concat(Ce.a.pageNumber," ").concat(t===e&&Ce.a.selectedPage),onClick:function(t){n(e)},children:e},e)})),O<b?Object(h.jsx)("button",{className:Ce.a.btn,onClick:function(){x(O+1)},children:"\u0412\u043f\u0435\u0440\u0435\u0434"}):Object(h.jsx)("button",{className:Ce.a.btn})]})},Ie=n(201),ke=n.n(Ie),Ee=function(e){return Object(h.jsx)(ke.a,{checked:e.checked,onChange:e.handleCheck,offColor:"#5B8CA9",onColor:"#294352",onHandleColor:"#294352",handleDiameter:20,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 5px rgba(0, 0, 0, 0.2)",height:10,width:30,className:"react-switch",id:"material-switch"})},Pe=n(106),Te=function(){return Object(h.jsxs)(Pe.a,{width:"100%",height:"670",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"48%",height:"290"}),Object(h.jsx)("rect",{x:"52%",y:"0",rx:"4",ry:"4",width:"48%",height:"290"}),Object(h.jsx)("rect",{x:"0",y:"310",rx:"4",ry:"4",width:"48%",height:"290"}),Object(h.jsx)("rect",{x:"52%",y:"310",rx:"4",ry:"4",width:"48%",height:"290"})]})},De=function(){return Object(h.jsxs)(Pe.a,{width:"100%",height:"670",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"100%",height:"200"}),Object(h.jsx)("rect",{x:"0",y:"220",rx:"4",ry:"4",width:"100%",height:"200"}),Object(h.jsx)("rect",{x:"0",y:"440",rx:"4",ry:"4",width:"100%",height:"200"})]})},Fe=function(){return Object(h.jsxs)(Pe.a,{width:"100%",height:"670",children:[Object(h.jsx)("rect",{x:"0",y:"0",rx:"4",ry:"4",width:"82%",height:"50"}),Object(h.jsx)("rect",{x:"85%",y:"0",rx:"4",ry:"4",width:"15%",height:"50"}),Object(h.jsx)("rect",{x:"0",y:"70",rx:"4",ry:"4",width:"100%",height:"290"}),Object(h.jsx)("rect",{x:"0",y:"380",rx:"4",ry:"4",width:"100%",height:"290"})]})},Le=Object(o.d)()((function(e){return Object(h.jsxs)("div",{className:pe.a.newsList,children:[Object(h.jsxs)("div",{className:pe.a.top,children:[Object(h.jsx)("h2",{className:pe.a.title,children:e.title}),Object(h.jsxs)("div",{className:pe.a.toggle,children:["\u0413\u043b\u0430\u0432\u043d\u0430\u044f"===e.section&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("span",{className:pe.a.popular,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435"}),Object(h.jsx)(Ee,{handleCheck:e.handleCheckPopular,checked:e.isPopular})]}),Object(h.jsxs)("span",{className:pe.a.displaying,children:["\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ",Object(h.jsx)(Ee,{handleCheck:e.handleCheck,checked:e.checked})]})]})]}),e.isFetch?e.checked?Object(h.jsx)(Te,{}):Object(h.jsx)(De,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:pe.a.content,children:e.newsCards&&e.newsCards.length>0?e.checked?Object(h.jsx)(_e.a.div,{className:pe.a.smallContainer,variants:e.animationContainer,initial:"hidden",animate:"visible",children:e.newsCards.map((function(t){return Object(h.jsx)(Ne,Object(v.a)({animationItem:e.animationItem},t),t.id)}))}):Object(h.jsx)(_e.a.div,{className:pe.a.largeContainer,variants:e.animationContainer,initial:"hidden",animate:"visible",children:e.newsCards.map((function(t){return Object(h.jsx)(ve,Object(v.a)({animationItem:e.animationItem},t),t.id)}))}):Object(h.jsx)("div",{className:"newsEmpty",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})}),e.isFetch?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(ye,{totalItemsCount:e.count,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged})]})]})})),Ae="SET_NEWS",Be="SET_IS_NEWS_CREATED",Re="SET_IS_NEWS_DELETED",Ue="DETELE_NEWS_DATA",ze="SET_CURRENT_PAGE",Je="SET_NEWS_DATA",qe={newsCards:[],count:0,pageSize:3,currentPage:1,newsData:{},isNewsCreated:!1,isNewsDeleted:!1},Me=function(e){return{type:Ae,news:e}},We=function(e){return{type:ze,currentPage:e}},Ve=function(e){return{type:Be,isNewsCreated:e}},He=function(){return{type:Ue}},Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(f.a)(_.a.mark((function a(c){var s;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c(q(!0)),a.prev=1,!n){a.next=8;break}return a.next=5,C(t);case 5:s=a.sent,a.next=11;break;case 8:return a.next=10,S(e,t);case 10:s=a.sent;case 11:console.log("getRecentNews",s),200===s.status&&(c(Me(s.data)),c(We(t))),c(q(!1)),a.next=21;break;case 16:a.prev=16,a.t0=a.catch(1),console.log("getRecentNewsError",a.t0.toJSON()),window.alert("getRecentNews Error"),c(q(!1));case 21:case"end":return a.stop()}}),a,null,[[1,16]])})));return function(e){return a.apply(this,arguments)}}()},Ge=function(e){return function(){var t=Object(f.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(q(!0)),t.prev=1,t.next=4,I(e);case 4:a=t.sent,console.log("getCurrentNews",a),200===a.status&&200===a.data.status&&n((c=a.data.data,{type:Je,newsData:c})),n(q(!1)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("getCurrentNews Error",t.t0.toJSON()),window.alert("getCurrentNews Error"),n(q(!1));case 15:case"end":return t.stop()}var c}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},Ye=function(e,t){return function(){var n=Object(f.a)(_.a.mark((function n(a){var c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(q(!0)),n.prev=1,n.next=4,y(e,t);case 4:c=n.sent,console.log("getNewsCategory",c),200===c.status&&(a(Me(c.data)),a(We(t))),a(q(!1)),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("getNewsCategoryError",n.t0.toJSON()),window.alert("getNewsCategory Error"),a(q(!1));case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(v.a)(Object(v.a)({},e),{},{newsCards:t.news.products,count:t.news.count});case ze:return Object(v.a)(Object(v.a)({},e),{},{currentPage:t.currentPage});case Be:return Object(v.a)(Object(v.a)({},e),{},{isNewsCreated:t.isNewsCreated});case Re:return Object(v.a)(Object(v.a)({},e),{},{isNewsDeleted:t.isNewsDeleted});case Je:return Object(v.a)(Object(v.a)({},e),{},{newsData:Object(v.a)(Object(v.a)({},t.newsData),{},{content:JSON.parse(t.newsData.content),title:t.newsData.title,short_description:t.newsData.short_description,img:t.newsData.img,category:t.newsData.category})});case Ue:return{newsData:{}};default:return e}},Xe=n(97),Qe=n.n(Xe),$e=n(57),et=Object(o.d)(l.h)((function(e){var t=Object(a.useState)(!!$e.isDesktop&&"true"===localStorage.getItem("checked")),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)("true"===localStorage.getItem("is_popular")),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(O.c)(),b=Object(l.g)(),m=Object(O.d)((function(e){return e.news.newsCards})),p=Object(O.d)((function(e){return e.news.count})),x=Object(O.d)((function(e){return e.news.pageSize})),_=Object(O.d)((function(e){return e.news.currentPage})),f=Object(O.d)((function(e){return e.auth.isFetch}));Object(a.useEffect)((function(){e.setSection(e.match.params.section?e.match.params.section:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f");var t=new URLSearchParams(e.location.search).get("page");e.match.params.section?j(Ye(je(e.match.params.section),Number(t)||1)):j(Ke("",Number(t)||1,u))}),[e.match.params.section]);return Object(h.jsx)(Le,{animationContainer:{hidden:{opacity:1,scale:1},visible:{opacity:1,scale:1,transition:{delayChildren:.1,staggerChildren:.1}}},isFetch:f,animationItem:{hidden:{x:-100,y:20,opacity:0},visible:{x:0,y:0,opacity:1}},title:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",count:p,pageSize:x,currentPage:_,checked:c,handleCheck:function(e){s(e),localStorage.setItem("checked",e)},handleCheckPopular:function(e){d(e),localStorage.setItem("is_popular",e),j(Ke("",1,e))},section:e.section,isPopular:u,onPageChanged:function(t){var n={};e.match.params.section?j(Ye(je(e.match.params.section),t)):j(Ke("",t,u)),1!==t&&(n.page=String(t)),b.push({pathname:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"===e.section?"/":"/news/".concat(e.section),search:Qe.a.stringify(n)})},newsCards:m})})),tt=n(40),nt=n(24),at=n(101),ct=n(23),st=n(207),rt=n.n(st),it=function(e){return Object(h.jsx)("div",{className:rt.a.error,children:e.children})},ot=n(208),lt=n.n(ot),ut=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(v.a)(Object(v.a)({className:lt.a.input,id:e.id},e.field),{},{type:e.type}))})},dt=n(20),jt=n.n(dt),bt=(n(440),function(e){return Object(h.jsxs)("div",{className:jt.a.create,children:[Object(h.jsx)("h2",{className:jt.a.title,children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(h.jsx)(ct.d,{initialValues:e.initialValues,validationSchema:e.validationSchema,onSubmit:e.onSubmit,enableReinitialize:!0,children:function(t){var n=t.isSubmitting,a=t.setFieldValue,c=t.values;return Object(h.jsxs)(ct.c,{children:[Object(h.jsxs)("div",{className:jt.a.section,children:[Object(h.jsx)("label",{className:jt.a.label,htmlFor:"name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(h.jsx)(ct.b,{id:"name",type:"text",name:"name",component:ut}),Object(h.jsx)(ct.a,{name:"name",component:it})]}),Object(h.jsxs)("div",{className:jt.a.section,children:[Object(h.jsx)("label",{className:jt.a.label,htmlFor:"description",children:"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(h.jsx)(ct.b,{id:"description",type:"text",name:"description",component:ut}),Object(h.jsx)(ct.a,{name:"description",component:it})]}),Object(h.jsx)(at.Editor,{wrapperClassName:jt.a.wrapper,editorState:e.editorState,readOnly:!1,toolbarHidden:!1,onContentStateChange:e.setContentState,onEditorStateChange:e.setEditorState,toolbar:{image:{defaultSize:{height:"auto",width:"100%"}}}}),Object(h.jsxs)("div",{className:"".concat(jt.a.section," ").concat(jt.a.top),children:[Object(h.jsx)("label",{className:jt.a.label,htmlFor:"section",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b"}),Object(h.jsxs)(ct.b,{className:jt.a.select,component:"select",id:"section",name:"section",children:[Object(h.jsx)("option",{value:"\u0421\u043f\u043e\u0440\u0442",children:"\u0421\u043f\u043e\u0440\u0442"}),Object(h.jsx)("option",{value:"\u041c\u0438\u0440",children:"\u041c\u0438\u0440"}),Object(h.jsx)("option",{value:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442",children:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442"}),Object(h.jsx)("option",{value:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430",children:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"}),Object(h.jsx)("option",{value:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430",children:"\u042d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0430"}),Object(h.jsx)("option",{value:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430",children:"\u041a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"}),Object(h.jsx)("option",{value:"\u041d\u0430\u0443\u043a\u0430",children:"\u041d\u0430\u0443\u043a\u0430"})]})]}),Object(h.jsx)("div",{className:jt.a.section,children:Object(h.jsxs)("label",{className:"".concat(jt.a.label," ").concat(jt.a.checkbox),htmlFor:"isPinned",children:[Object(h.jsx)("span",{children:"\u0417\u0430\u043a\u0440\u0435\u043f\u0438\u0442\u044c"}),Object(h.jsx)(ct.b,{id:"isPinned",type:"checkbox",name:"isPinned"})]})}),Object(h.jsxs)("div",{className:jt.a.footer,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(ct.b,{id:"img",type:"file",name:"img",component:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{className:jt.a.inputFile,id:"img",accept:"image/*",name:"img",type:"file",onChange:function(e){a("img",e.currentTarget.files[0])}}),c.img.name?Object(h.jsx)("label",{htmlFor:"img",children:c.img.name}):""!==c.img?Object(h.jsx)("label",{htmlFor:"img",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e \u0441\u0442\u0430\u0442\u044c\u0438"}):Object(h.jsx)("label",{htmlFor:"img",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u0435\u0432\u044c\u044e \u0441\u0442\u0430\u0442\u044c\u0438"})]})}}),Object(h.jsx)(ct.a,{name:"img",component:it})]}),e.isUpdate?Object(h.jsx)("button",{className:jt.a.submitBtn,type:"submit",disabled:n,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}):Object(h.jsx)("button",{className:jt.a.submitBtn,type:"submit",disabled:n,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]})}})]})}),mt=n(10),ht=n(11),pt=n(21),Ot=n(22),xt=n.p+"static/media/loader.b7e7449a.svg",_t=n(209),ft=n.n(_t),vt=function(){return Object(h.jsx)("div",{className:ft.a.preloaderContainer,children:Object(h.jsx)("img",{src:xt,alt:"preloader"})})},wt=function(e){return{isFetch:e.auth.isFetch}},gt=function(e){var t=function(t){Object(pt.a)(a,t);var n=Object(Ot.a)(a);function a(){return Object(mt.a)(this,a),n.apply(this,arguments)}return Object(ht.a)(a,[{key:"render",value:function(){return this.props.isFetch?Object(h.jsx)(vt,{}):Object(h.jsx)(e,Object(v.a)({},this.props))}}]),a}(c.a.Component);return Object(O.b)(wt)(t)},Nt=Object(o.d)(gt)((function(e){var t=nt.a({name:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),description:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),img:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),section:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b")});return Object(h.jsx)(bt,Object(v.a)(Object(v.a)({},e),{},{onSubmit:e.onSubmit,validationSchema:t,initialValues:{name:"",description:"",img:"",section:"\u0421\u043f\u043e\u0440\u0442",isPinned:!1}}))})),St=function(e){return{isAuth:e.auth.isAuth}},Ct=function(e){var t=function(t){Object(pt.a)(a,t);var n=Object(Ot.a)(a);function a(){return Object(mt.a)(this,a),n.apply(this,arguments)}return Object(ht.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(h.jsx)(e,Object(v.a)({},this.props)):Object(h.jsx)(l.a,{to:"/"})}}]),a}(c.a.Component);return Object(O.b)(St)(t)},yt=n(59),It=Object(o.d)(Ct)((function(e){var t=Object(O.c)(),n={entityMap:{},blocks:[{key:"637gr",text:"",type:"unstyled",depth:0,inlineStyleRanges:[],entityRanges:[],data:{}}]},c=Object(O.d)((function(e){return e.news.isNewsCreated})),s=Object(a.useState)(n),r=Object(i.a)(s,2),o=r[0],u=r[1],d=Object(a.useState)(tt.EditorState.createWithContent(Object(tt.convertFromRaw)(n))),j=Object(i.a)(d,2),b=j[0],m=j[1];Object(a.useEffect)((function(){return function(){t(Ve(!1))}}),[t]),Object(a.useEffect)((function(){c&&yt.b.success("\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430")}),[c]);return c?Object(h.jsx)(l.a,{to:"/"}):$e.isDesktop?Object(h.jsx)(Nt,{onSubmit:function(e,n){console.log(e),console.log(o),console.log(b),t(function(e,t,n,a,c,s,r){return function(){var i=Object(f.a)(_.a.mark((function i(o){var l;return _.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o(q(!0)),i.prev=1,i.next=4,k(e,t,n,a,c,s);case 4:l=i.sent,console.log("createNews",l),200===l.status&&(o(X()),o(Ve(!0))),o(q(!1)),i.next=16;break;case 10:i.prev=10,i.t0=i.catch(1),console.log("createNews",i.t0.toJSON()),window.alert("createNews Error"),r(!1),o(q(!1));case 16:case"end":return i.stop()}}),i,null,[[1,10]])})));return function(e){return i.apply(this,arguments)}}()}(e.name,e.img,e.description,o,e.section,e.isPinned,n.setSubmitting))},setContentState:u,setEditorState:m,contentState:o,editorState:b}):Object(h.jsx)(l.a,{to:"/"})})),kt=n(104),Et=Object(o.d)(gt)((function(e){var t=e.newsData,n=Object(kt.a)(e,["newsData"]),c={name:t.title,description:t.short_description,img:t.img,section:t.category,isPinned:t.is_pinned};Object(a.useEffect)((function(){n.setContentState(t.content),n.setEditorState(tt.EditorState.createWithContent(Object(tt.convertFromRaw)(t.content)))}),[t.content]);var s=nt.a({name:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),description:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),img:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),section:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b")});return Object(h.jsx)(bt,Object(v.a)(Object(v.a)({},n),{},{onSubmit:n.onSubmit,isUpdate:!0,validationSchema:s,initialValues:c}))})),Pt=Object(o.d)(l.h,Ct)((function(e){var t=Object(O.c)(),n=e.match.params.newsId,c=Object(O.d)((function(e){return e.news.newsData})),s=Object(O.d)((function(e){return e.news.isNewsCreated})),r=Object(a.useState)(""),o=Object(i.a)(r,2),u=o[0],d=o[1],j=Object(a.useState)(""),b=Object(i.a)(j,2),m=b[0],p=b[1];if(Object(a.useEffect)((function(){t(Ge(e.match.params.newsId))}),[t,e.match.params.newsId]),Object(a.useEffect)((function(){return function(){t(Ve(!1)),t(He())}}),[t]),Object(a.useEffect)((function(){s&&yt.b.success("\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430")}),[s]),!c.content)return Object(h.jsx)(vt,{});return s?Object(h.jsx)(l.a,{to:"/"}):$e.isDesktop?Object(h.jsx)(Et,{newsData:c,onSubmit:function(e,a){console.log(e),console.log(u),t(function(e,t,n,a,c,s,r,i){return function(){var o=Object(f.a)(_.a.mark((function o(l){var u;return _.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l(q(!0)),o.prev=1,o.next=4,E(e,t,n,a,c,s,r);case 4:u=o.sent,console.log("updateNews",u),200===u.status&&(l(X()),l(Ve(!0))),l(q(!1)),o.next=16;break;case 10:o.prev=10,o.t0=o.catch(1),console.log("updateNews",o.t0.toJSON()),window.alert("updateNews Error"),i(!1),l(q(!1));case 16:case"end":return o.stop()}}),o,null,[[1,10]])})));return function(e){return o.apply(this,arguments)}}()}(n,e.name,e.img,e.description,u,e.section,e.isPinned,a.setSubmitting))},setContentState:d,setEditorState:p,contentState:u,editorState:m}):Object(h.jsx)(l.a,{to:"/"})})),Tt=n(37),Dt=n.n(Tt),Ft=n(210),Lt=n(107),At=n.n(Lt),Bt=function(e){return Object(h.jsxs)("div",{className:At.a.modal,children:[Object(h.jsx)("h2",{className:At.a.title,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:At.a.deleteBtn,onClick:e.handleDelete,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})},Rt=n.p+"static/media/edit-5.cc72686c.svg",Ut=Object(o.d)()((function(e){var t=e.newsData,n=Object(kt.a)(e,["newsData"]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:Dt.a.news,children:[Object(h.jsx)("div",{className:Dt.a.top,children:Object(h.jsx)("h2",{className:Dt.a.title,children:t.title})}),Object(h.jsxs)("div",{className:Dt.a.info,children:[Object(h.jsx)("div",{className:Dt.a.time,children:t.created_at}),Object(h.jsxs)("span",{className:Dt.a.vision,children:[Object(h.jsx)("img",{className:Dt.a.viewImg,src:fe,alt:"view_eye"})," ",Object(h.jsx)("span",{className:Dt.a.viewCount,children:t.view_counter})]})]}),Object(h.jsx)(at.Editor,{editorClassName:Dt.a.editor,editorState:n.editorState,readOnly:!0,toolbarHidden:!0,onContentStateChange:n.setContentState,onEditorStateChange:n.setEditorState}),n.isAuth&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:Dt.a.footer,children:[Object(h.jsxs)(m.b,{className:Dt.a.updateBtn,to:"/create_news/".concat(t.id),children:[Object(h.jsx)("div",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(h.jsx)("img",{src:Rt,alt:"edit"})]}),Object(h.jsx)("button",{onClick:function(){return n.setIsModalOpen(!0)},className:Dt.a.deleteBtn,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]}),Object(h.jsx)(Ft.a,{closeModal:function(){return n.setIsModalOpen(!1)},open:n.isModalOpen,center:!0,children:Object(h.jsx)(Bt,{handleDelete:n.handleDelete})})]})})),zt=Object(o.d)(l.h)((function(e){var t=e.newsData.content,n=Object(a.useState)(t),c=Object(i.a)(n,2),s=c[0],r=c[1],o=Object(a.useState)(tt.EditorState.createWithContent(Object(tt.convertFromRaw)(t))),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){r(e.newsData.content),d(tt.EditorState.createWithContent(Object(tt.convertFromRaw)(e.newsData.content)))}),[e.newsData.content]),Object(h.jsx)(Ut,Object(v.a)(Object(v.a)({},e),{},{editorState:u,contentState:s,match:e.match}))})),Jt=Object(o.d)(l.h)((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.auth.isAuth})),s=Object(O.d)((function(e){return e.auth.isFetch})),r=Object(O.d)((function(e){return e.news.newsData})),o=c.a.useState(!1),u=Object(i.a)(o,2),d=u[0],j=u[1],b=Object(O.d)((function(e){return e.news.isNewsDeleted}));if(Object(a.useEffect)((function(){var n;t((n=e.match.params.newsId,function(){var e=Object(f.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,T(n);case 4:a=e.sent,console.log("incrementViewCounter",a),200===a.status&&a.data,t(q(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("incrementViewCounter",e.t0.toJSON()),window.alert("incrementViewCounter Error"),t(q(!1));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),Object(a.useEffect)((function(){t(Ge(e.match.params.newsId))}),[t,e.match.params.newsId]),Object(a.useEffect)((function(){return function(){t(He()),t(Ve(!1))}}),[t]),Object(a.useEffect)((function(){b&&yt.b.error("\u041d\u043e\u0432\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430")}),[b]),!r.content)return Object(h.jsx)(Fe,{});var m={hidden:{opacity:0,x:-100,y:0},visible:{opacity:1,x:0,y:0}};return b?Object(h.jsx)(l.a,{to:"/"}):s?Object(h.jsx)(Fe,{}):Object(h.jsx)(_e.a.div,{variants:m,initial:"hidden",animate:"visible",children:Object(h.jsx)(zt,{handleDelete:function(){var n;j(!1),t((n=e.match.params.newsId,function(){var e=Object(f.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,P(n);case 4:a=e.sent,console.log("deleteNews",a),200===a.status&&!0===a.data&&(t(X()),t({type:Re,isNewsDeleted:!0})),t(q(!1)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("deleteNews",e.t0.toJSON()),window.alert("deleteNews Error"),t(q(!1));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))},animations:m,isModalOpen:d,setIsModalOpen:j,isAuth:n,newsData:r})})})),qt=Object(o.d)(l.h)((function(e){var t=Object(a.useState)("true"===localStorage.getItem("checked")),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(O.c)(),o=Object(O.d)((function(e){return e.news.newsCards})),u=Object(O.d)((function(e){return e.news.count})),d=Object(O.d)((function(e){return e.news.pageSize})),j=Object(O.d)((function(e){return e.news.currentPage})),b=Object(O.d)((function(e){return e.auth.isFetch})),m=Object(l.g)();Object(a.useEffect)((function(){var t=new URLSearchParams(e.location.search),n=t.get("letters"),a=t.get("page");r(Ke(n||"",Number(a)||1))}),[e.location.search]);return Object(h.jsx)(Le,{animationContainer:{hidden:{opacity:1,scale:1},visible:{opacity:1,scale:1,transition:{delayChildren:.1,staggerChildren:.1}}},isFetch:b,animationItem:{hidden:{x:-100,y:20,opacity:0},visible:{x:0,y:0,opacity:1}},title:"\u041f\u043e\u0438\u0441\u043a",count:u,pageSize:d,currentPage:j,checked:c,handleCheck:function(e){s(e),localStorage.setItem("checked",e)},onPageChanged:function(t){var n={},a=new URLSearchParams(e.location.search).get("letters");a&&(n.letters=a),1!==t&&(n.page=String(t)),m.push({pathname:"/search",search:Xe.stringify(n)}),e.match.params.section?r(Ye(je(e.match.params.section),t)):r(Ke(a,t))},newsCards:o})})),Mt=n(45),Wt=n.n(Mt),Vt=n.p+"static/media/coronavirus.8bb40686.svg",Ht=n.p+"static/media/cloudy.adbb7f88.svg",Kt=n.p+"static/media/dollar.1a93d95c.svg",Gt=n.p+"static/media/euro.11a79757.svg",Yt=Object(o.d)()((function(e){return Object(h.jsx)("div",{className:Wt.a.topContainer,children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:Wt.a.top,children:[Object(h.jsxs)("span",{className:Wt.a.weather,children:[Object(h.jsx)("img",{src:Ht,alt:"weather"})," \u041c\u043e\u0441\u043a\u0432\u0430, +",Math.trunc(e.moscowTemp),"\xb0C"]}),Object(h.jsxs)("span",{className:Wt.a.covid,children:[Object(h.jsx)("img",{src:Vt,alt:"covid"}),Object(h.jsx)("span",{className:Wt.a.covidTitle,children:"Covid-19"}),"\u0412\u0441\u0435\u0433\u043e \u0432 \u0420\u043e\u0441\u0441\u0438\u0438: ",Object(h.jsxs)("span",{className:Wt.a.value,children:[" \xa0",e.total]}),". \u041d\u043e\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432: ",Object(h.jsxs)("span",{className:Wt.a.value,children:[" \xa0",e.newCases]})]}),Object(h.jsxs)("span",{className:Wt.a.currency,children:[Object(h.jsxs)("span",{className:Wt.a.dollar,children:[Object(h.jsx)("img",{src:Kt,alt:"dollar"}),e.usd]}),Object(h.jsxs)("span",{className:Wt.a.euro,children:[Object(h.jsx)("img",{src:Gt,alt:"euro"}),e.eur]})]})]})})})})),Zt=Object(o.d)()((function(e){var t=Object(O.c)(),n=Object(O.d)((function(e){return e.infoSidebar.newCases})),c=Object(O.d)((function(e){return e.infoSidebar.total})),s=Object(O.d)((function(e){return e.infoSidebar.moscowTemp})),r=Object(O.d)((function(e){return e.infoSidebar.usd})),i=Object(O.d)((function(e){return e.infoSidebar.eur}));return Object(a.useEffect)((function(){t(function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:n=e.sent,console.log("getCovidInformation",n),t({type:K,info:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("getPopularAndPinnedNews Error",e.t0.toJSON());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:n=e.sent,console.log("getMoscowWeather",n),t({type:G,moscowTemp:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.alert("getMoscowWeather Error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),t(function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:n=e.sent,console.log("getCurrency",n),t((a=n.EUR,c=n.USD,{type:Y,EUR:a,USD:c})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.alert("getCurrency Error");case 11:case"end":return e.stop()}var a,c}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(h.jsx)(Yt,{newCases:n,eur:i,usd:r,moscowTemp:s,total:c})})),Xt=Object(o.d)(l.h)((function(e){var t=Object(a.useState)(e.match.params.section),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(h.jsxs)("div",{className:"outer",children:[Object(h.jsx)(be,{section:c}),Object(h.jsx)(Zt,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:d.a.content,children:[$e.isDesktop&&Object(h.jsx)("div",{className:d.a.sidebarContainer,children:Object(h.jsx)(ne,{})}),Object(h.jsx)($,{}),Object(h.jsx)("div",{className:d.a.main,children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(et,{section:c,setSection:s})}}),Object(h.jsx)(l.b,{exact:!0,path:"/create_news",render:function(){return Object(h.jsx)(It,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/search",render:function(){return Object(h.jsx)(qt,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/create_news/:newsId",render:function(){return Object(h.jsx)(Pt,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/current_news/:newsId",render:function(){return Object(h.jsx)(Jt,{})}})," ",Object(h.jsx)(l.b,{exact:!0,path:"/news/:section",render:function(){return Object(h.jsx)(et,{section:c,setSection:s})}})]})})]})})]})})),Qt=n(68),$t=n.n(Qt),en=n(211),tn=n.n(en),nn=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(v.a)(Object(v.a)({className:tn.a.input,id:e.id},e.field),{},{type:e.type}))})},an=Object(o.d)()((function(e){return Object(h.jsxs)("div",{className:"outer",children:[Object(h.jsx)(be,{}),Object(h.jsx)("div",{className:$t.a.login,children:Object(h.jsx)(ct.d,{initialValues:e.initialValues,validationSchema:e.validationSchema,onSubmit:e.onSubmit,children:function(e){var t=e.isSubmitting;e.values;return Object(h.jsxs)(ct.c,{children:[Object(h.jsxs)("div",{className:$t.a.section,children:[Object(h.jsx)("label",{className:$t.a.label,htmlFor:"username",children:"E-mail"}),Object(h.jsx)(ct.b,{id:"username",type:"text",name:"username",component:nn}),Object(h.jsx)(ct.a,{name:"username",component:it})]}),Object(h.jsxs)("div",{className:$t.a.section,children:[Object(h.jsx)("label",{className:$t.a.label,htmlFor:"password",children:"Password"}),Object(h.jsx)(ct.b,{id:"password",type:"password",name:"password",component:nn}),Object(h.jsx)(ct.a,{name:"password",component:it})]}),Object(h.jsx)("button",{className:$t.a.submitBtn,type:"submit",disabled:t,children:"\u0412\u043e\u0439\u0442\u0438"})]})}})})]})})),cn=Object(o.d)()((function(e){var t=nt.a({username:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),password:nt.b().required("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435")});return Object(h.jsx)(an,{onSubmit:e.onSubmit,initialValues:{username:"",password:""},validationSchema:t})})),sn=Object(o.d)()((function(e){var t=Object(O.c)();return Object(O.d)((function(e){return e.auth.isAuth}))?Object(h.jsx)(l.a,{to:"/"}):Object(h.jsx)(cn,{onSubmit:function(e,n){var a,c,s;t((a=e.username,c=e.password,s=n.setSubmitting,function(){var e=Object(f.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(q(!0)),e.prev=1,e.next=4,D(a,c);case 4:n=e.sent,console.log("login",n),t(M(!0)),localStorage.setItem("accessToken",n.data.access),t(q(!1)),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Login error",e.t0.toJSON()),window.alert("Login error"),s(!1),t(q(!1));case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}})}));var rn=function(){var e=Object(O.c)();return Object(a.useEffect)((function(){e((function(e){null===localStorage.getItem("accessToken")||e(M(!0)),e(W(!0))}))}),[e]),Object(O.d)((function(e){return e.auth.isInitialize}))?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/login",render:function(){return Object(h.jsx)(sn,{})}}),Object(h.jsx)(Xt,{})]}),Object(h.jsx)(yt.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]}):Object(h.jsx)(vt,{})},on=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,447)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},ln=n(212),un=Object(o.c)({news:Ze,auth:V,infoSidebar:Q}),dn=Object(o.e)(un,Object(o.a)(ln.a));window.store=dn;var jn=dn;n(441),n(442);r.a.render(Object(h.jsx)(m.a,{basename:"",children:Object(h.jsx)(O.a,{store:jn,children:Object(h.jsx)(rn,{})})}),document.getElementById("root")),on()},45:function(e,t,n){e.exports={top:"TopInfo_top__2AYoc",covid:"TopInfo_covid__2nuEr",covidTitle:"TopInfo_covidTitle__2ntEE",value:"TopInfo_value__2u-Iz",weather:"TopInfo_weather__2H6va",currency:"TopInfo_currency__rLBrE",dollar:"TopInfo_dollar__nA1k4",euro:"TopInfo_euro__1kXiL"}},48:function(e,t,n){e.exports={newsList:"NewsList_newsList__3e1Fr",top:"NewsList_top__1WGVH",title:"NewsList_title__1iL7T",toggle:"NewsList_toggle__3Y1v3",content:"NewsList_content__2fUqk",smallContainer:"NewsList_smallContainer__2KMcS",displaying:"NewsList_displaying__3eeig",popular:"NewsList_popular__2Cu0g"}},53:function(e,t,n){e.exports={news:"NewsItemSmall_news__3Zg9l",title:"NewsItemSmall_title__is_64",img:"NewsItemSmall_img__175Ky",time:"NewsItemSmall_time__2_rs1",view:"NewsItemSmall_view__1R_qr",viewImg:"NewsItemSmall_viewImg__gabEf",viewCount:"NewsItemSmall_viewCount__Q5LzB"}},61:function(e,t,n){e.exports={paginator:"Paginator_paginator__zqYUC",pageNumber:"Paginator_pageNumber__15_Aa",selectedPage:"Paginator_selectedPage__dGrDy",btn:"Paginator_btn__7wnRq"}},68:function(e,t,n){e.exports={login:"Login_login__3cwOj",section:"Login_section__1pUaZ",label:"Login_label__2hxJU",submitBtn:"Login_submitBtn__28Ctb"}}},[[443,1,2]]]);
//# sourceMappingURL=main.adcd9c05.chunk.js.map